(this.webpackJsonpomni=this.webpackJsonpomni||[]).push([[0],{100:function(t,e,n){},101:function(t,e,n){"use strict";n.r(e);var c,a,i,s=n(1),r=n.n(s),o=n(11),l=n.n(o),u=(n(72),n(4)),d=n(61),j=n.n(d),b=n(59),h=n.n(b),O=n(58),x=n.n(O),m=n(62),p=n.n(m),v=n(63),f=n.n(v),_=n(57),g=n.n(_),N=n(56),y=n.n(N),S=n(60),C=n.n(S);!function(t){t[t.DEBIT=0]="DEBIT",t[t.CREDIT=1]="CREDIT"}(c||(c={})),function(t){t[t.CASH=0]="CASH",t[t.INVESTMENT=1]="INVESTMENT",t[t.LIABILITY=2]="LIABILITY",t[t.POINT=3]="POINT"}(a||(a={})),function(t){t[t.DAILY=0]="DAILY",t[t.SAVINGS=1]="SAVINGS",t[t.RETIREMENT=2]="RETIREMENT",t[t.SPECIAL=3]="SPECIAL"}(i||(i={}));var I,A=[c.CREDIT,c.DEBIT],E=[a.CASH,a.INVESTMENT,a.LIABILITY,a.POINT],T=[i.DAILY,i.SAVINGS,i.RETIREMENT,i.SPECIAL],M=n(121),D=(n(73),function(t){var e=t.toLowerCase();return e[0].toUpperCase()+e.slice(1)}),L=function(t,e){return"\n    ".concat(t<0?"-":"").concat(e?"":"$").concat(e?t.toLocaleString("en-US",{maximumFractionDigits:0}):Math.abs(t).toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}),"\n    ")},k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],w=function(t){var e=new Date;return t&&(e=new Date(t)),"".concat(e.getFullYear(),"-").concat(e.getMonth()<9?"0"+(e.getMonth()+1):e.getMonth()+1,"-").concat(e.getDate()<9?"0"+(e.getDate()+1):e.getDate()+1)},V=n(119),R=n(0),P=function(t){var e=t.children;return Object(R.jsx)(V.a,{className:"card",children:Object(R.jsx)("div",{className:"card--holder",children:e})})},F=n(7);!function(t){t.NAVIGATE="NAVIGATE",t.SET_SUMMARY="SET_SUMMARY",t.SET_TRANSACTIONS="SET_TRANSACTIONS",t.SET_ACCOUNTS="SET_ACCOUNTS"}(I||(I={}));var U,Y=function(t,e){switch(e.type){case I.NAVIGATE:return Object(F.a)(Object(F.a)({},t),{},{navigationState:e.destination});case I.SET_SUMMARY:return Object(F.a)(Object(F.a)({},t),{},{netWorth:e.netWorth,categoryValues:e.categoryValues,typeValues:e.typeValues});case I.SET_ACCOUNTS:return Object(F.a)(Object(F.a)({},t),{},{accounts:e.accounts});case I.SET_TRANSACTIONS:return Object(F.a)(Object(F.a)({},t),{},{transactions:e.transactions})}return t},B=n(55),G=n(22),H=n(14),q=n(35),W=n.n(q),J=function(t){return{type:I.NAVIGATE,destination:t}},$=function(t){return{type:I.SET_TRANSACTIONS,transactions:t}};!function(t){t.LOGIN="LOGIN",t.HOME="HOME"}(U||(U={}));var z={baseURL:"http://localhost:5000",timeout:1e5},Q=function(){function t(e){Object(G.a)(this,t),this.noAuthClient=void 0,this.authClient=void 0,this.dispatch=void 0,this.authenticated=void 0,this.noAuthClient=W.a.create(z),this.authClient=null,this.dispatch=e,this.authenticated=!1;var n=localStorage.getItem("access_token");n&&"null"!==n&&this.createAuthClient(n)}return Object(H.a)(t,[{key:"login",value:function(t){var e=this;window.crypto.subtle.digest("SHA-256",(new TextEncoder).encode(t)).then((function(t){var n=Array.from(new Uint8Array(t)).map((function(t){return t.toString(16).padStart(2,"0")})).join("");console.log(n),e.noAuthClient.post("/login",{login_sha:n}).then((function(t){e.createAuthClient(t.data.access_token),e.dispatch(J(U.HOME))}))}))}},{key:"createAuthClient",value:function(t){this.authClient=W.a.create(z),this.authClient.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(t),e})),localStorage.setItem("access_token",t),this.authenticated=!0}},{key:"sidebar",value:function(){var t,e=this;null===(t=this.authClient)||void 0===t||t.get("/sidebar").then((function(t){var n,c,a,i,s=t.data;e.dispatch((n=s.net_worth,c=s.category_sums,a=s.type_data,i=new Date(s.last_updated),{type:I.SET_SUMMARY,netWorth:n,categoryValues:c,typeValues:a,lastUpdated:i}))}))}},{key:"transactionTable",value:function(){var t,e,n=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==c&&(e={account_id:c}),null===(t=this.authClient)||void 0===t||t.post("/transaction/table",e).then((function(t){var e,c=t.data.transactions,a=[],i=Object(B.a)(c);try{for(i.s();!(e=i.n()).done;){var s=e.value,r={id:s.id,date:new Date(Number.parseInt(s.date)),entries:n.normalizeEntries(s.entries)};a.push(r)}}catch(o){i.e(o)}finally{i.f()}n.dispatch($(a))}))}},{key:"accounts",value:function(){var t,e=this;null===(t=this.authClient)||void 0===t||t.get("/modal/options").then((function(t){e.dispatch(function(t){return{type:I.SET_ACCOUNTS,accounts:t}}(t.data.accounts))}))}},{key:"normalizeEntries",value:function(t){return t.map((function(t){var e;try{e=JSON.parse(t.amount.replaceAll("'",'"'))}catch(n){e=Number.parseFloat(t.amount)}return{id:t.id,accountId:t.account_id,style:c[t.style],amount:e,date:new Date(Number.parseFloat(t.date)),category:t.category,tags:t.tags,description:t.description}}))}}]),t}(),K=Object(s.createContext)(null),X=function(t){var e=t.children,n=function(t,e){var n=Object(s.useRef)(e),c=Object(s.useCallback)((function(){return n.current}),[]),a=Object(s.useReducer)((function(e,c){return n.current=t(e,c)}),e,void 0),i=Object(u.a)(a,2);return[i[0],i[1],c]}(Y,{navigationState:U.LOGIN,netWorth:0,categoryValues:{},typeValues:{},transactions:[],accounts:[],lastUpdated:new Date}),c=Object(u.a)(n,2),a=c[0],i=c[1],r={resourceManager:new Q(i),state:a,dispatch:i};return Object(R.jsx)(K.Provider,{value:r,children:e})},Z=function(){var t=Object(s.useContext)(K);if(null===t)throw new Error("SageContext must be used within a SageContextProvider");return t},tt=(n(96),function(t){var e=t.text,n=t.onClick,c=t.className;return Object(R.jsx)("button",{onClick:n,className:c,children:e})}),et=function(){var t=Z(),e=t.resourceManager,n=t.state,c=Object(s.useState)(!1),r=Object(u.a)(c,2),o=r[0],l=r[1];Object(s.useEffect)((function(){e.sidebar()}),[]);var d=function(t){e.transactionTable(t)},b=function(t){return t===i.DAILY?Object(R.jsx)(y.a,{className:"daily"}):t===i.SPECIAL?Object(R.jsx)(M.a,{className:"special"}):t===i.SAVINGS?Object(R.jsx)(g.a,{className:"savings"}):t===i.RETIREMENT?Object(R.jsx)(x.a,{className:"retirement"}):void 0},O=Object(R.jsx)(h.a,{className:"point"}),m=Object(R.jsx)(C.a,{className:"childAccount"}),v=function(t){return t===a.CASH?Object(R.jsx)(j.a,{className:"cash"}):t===a.LIABILITY?Object(R.jsx)(p.a,{className:"liability"}):t===a.INVESTMENT?Object(R.jsx)(f.a,{className:"investment"}):t===a.POINT?Object(R.jsx)(M.a,{className:"point"}):void 0},_=function(t,e,n,c,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return Object(R.jsx)(R.Fragment,{children:0!==n||o?Object(R.jsxs)("div",{className:"sidebar__accounts--account",onClick:function(){return d(t)},children:[Object(R.jsxs)("p",{children:[i?m:null,e]}),Object(R.jsxs)("p",{children:[L(n,c),a?Object(R.jsx)("span",{className:"subtext",children:"rem."}):null,c?O:null]})]},t):null})},N=function(t,e){return t.is_remaining&&!e.is_remaining?1:!t.is_remaining&&e.is_remaining?-1:Math.abs(e.value)-Math.abs(t.value)};return Object(R.jsxs)("div",{className:"sidebar",children:[Object(R.jsx)(P,{children:Object(R.jsxs)("span",{className:"sidebar__total",onClick:function(){return d(null)},children:[Object(R.jsxs)("h1",{children:["$",Math.floor(n.netWorth).toLocaleString("en-US")]}),Object(R.jsxs)("h2",{children:[".",Math.round(100*(n.netWorth-Math.floor(n.netWorth))).toLocaleString("en-US")]}),Object(R.jsx)(tt,{onClick:function(){return l(!o)},text:"+"})]})}),Object(R.jsx)(P,{children:Object.entries(n.categoryValues).map((function(t){var e=Number.parseFloat(t[1]),n=i[t[0]];return Object(R.jsxs)("div",{className:"sidebar__category",children:[Object(R.jsxs)("h2",{children:[b(n),D(i[n])]}),Object(R.jsx)("h2",{children:e<0?Object(R.jsxs)("span",{className:"negative",children:[L(e,n===i.SPECIAL),n===i.SPECIAL?O:null]}):Object(R.jsxs)(R.Fragment,{children:[L(e,n===i.SPECIAL),n===i.SPECIAL?O:null]})})]},n)}))}),Object.entries(n.typeValues).map((function(t){var e=t[1],n=e.accounts,c=a[t[0]],i=e.sum;return Object(R.jsxs)(P,{children:[Object(R.jsxs)("div",{className:"sidebar__type",children:[Object(R.jsxs)("h2",{children:[v(c),D(a[c])]}),Object(R.jsx)("h2",{children:i<0?Object(R.jsx)("span",{className:"negative",children:L(i,!1)}):L(i,!1)})]}),Object(R.jsx)("div",{className:"sidebar__accounts",children:n.filter((function(t){return null===t.parent_account_id||""===t.parent_account_id})).sort(N).map((function(t){return Object(R.jsxs)(R.Fragment,{children:[_(t.id,t.name,t.value,t.is_points,t.is_remaining,!1),(e=t.id,c=n,c.filter((function(t){return t.parent_account_id===e}))).sort(N).map((function(t){return _(t.id,t.name,t.value,t.is_points,t.is_remaining,!0)}))]});var e,c}))})]},c)}))]})},nt=n(64),ct=n.n(nt),at=n(123),it=n(122),st=W.a.create({baseURL:"http://localhost:5000",timeout:1e4}),rt=n(25),ot=n.n(rt),lt=function(t){var e=t.visible,n=t.setVisible,c=Z().state,r=Object(s.useState)(""),o=Object(u.a)(r,2),l=o[0],d=o[1],j=Object(s.useState)(a.CASH),b=Object(u.a)(j,2),h=b[0],O=b[1],x=Object(s.useState)(i.DAILY),m=Object(u.a)(x,2),p=m[0],v=m[1],f=Object(s.useState)(void 0),_=Object(u.a)(f,2),g=_[0],N=_[1],y=Object(s.useState)(void 0),S=Object(u.a)(y,2),C=S[0],I=S[1],A=function(){d(""),O(a.CASH),v(i.DAILY),N(void 0),I(void 0)};return Object(R.jsx)(at.a,{className:"modal",open:e,children:Object(R.jsx)("div",{className:"modal__content",children:Object(R.jsxs)(P,{children:[Object(R.jsxs)("span",{className:"modal__content--header",children:[Object(R.jsx)("h1",{children:"New Account"}),Object(R.jsx)(it.a,{onClick:function(){return n(!1)},children:Object(R.jsx)(ot.a,{})})]}),Object(R.jsxs)("span",{className:"modal__content--input",children:[Object(R.jsxs)("span",{className:"modal__content--input-required",children:[Object(R.jsx)("h2",{children:"Name"}),Object(R.jsx)("p",{children:"*"})]}),Object(R.jsx)("input",{type:"text",value:l,onChange:function(t){return d(t.target.value)}})]}),Object(R.jsxs)("span",{className:"modal__content--input",children:[Object(R.jsxs)("span",{className:"modal__content--input-required",children:[Object(R.jsx)("h2",{children:"Type"}),Object(R.jsx)("p",{children:"*"})]}),Object(R.jsx)("select",{value:h,onChange:function(t){return O(Number.parseInt(t.target.value))},children:E.map((function(t){return Object(R.jsx)("option",{value:t,children:D(a[t])},t)}))})]}),Object(R.jsxs)("span",{className:"modal__content--input",children:[Object(R.jsxs)("span",{className:"modal__content--input-required",children:[Object(R.jsx)("h2",{children:"Category"}),Object(R.jsx)("p",{children:"*"})]}),Object(R.jsx)("select",{value:p,onChange:function(t){return v(Number.parseInt(t.target.value))},children:T.map((function(t){return Object(R.jsx)("option",{value:t,children:D(i[t])},t)}))})]}),Object(R.jsxs)("span",{className:"modal__content--input",children:[Object(R.jsx)("h2",{children:"Max Value"}),Object(R.jsx)("input",{value:g,onChange:function(t){return N(t.target.value)},type:"text"})]}),Object(R.jsxs)("span",{className:"modal__content--input",children:[Object(R.jsx)("h2",{children:"Parent Account"}),Object(R.jsxs)("select",{value:C,onChange:function(t){return I(t.target.value)},children:[Object(R.jsx)("option",{value:"",children:"None"}),c.accounts.filter((function(t){return!t.parentAccountId})).map((function(t){return Object(R.jsx)("option",{value:t.id,children:t.name},t.id)}))]})]}),Object(R.jsx)(it.a,{className:"modal__content--submit",onClick:function(t){t.preventDefault();var e={account:{id:(c.accounts.map((function(t){return Number.parseInt(t.id)})).reduce((function(t,e){return e>t?e:t}),0)+1).toString(),name:l,type:a[h],category:i[p],maxValue:g,parentAccountId:C}};st.post("api/account",e).then((function(t){A(),n(!1)})).catch((function(t){console.error(t)}))},children:Object(R.jsx)("h2",{children:"Create"})})]})})})},ut=(n(98),function(t){var e=t.setAddTransactionModalVisibility,n=Z(),a=n.resourceManager,i=n.state;Object(s.useEffect)((function(){a.transactionTable()}),[]);var r=function(t){return"number"===typeof t.amount?L(t.amount,!1):(e=t.amount,"".concat(e.quantity,"x").concat(e.symbol," @ $").concat(e.unitPrice));var e};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"control",children:[Object(R.jsx)("span",{className:"control__filter",children:"filter"}),Object(R.jsx)("span",{className:"control__expand",children:"expand"}),Object(R.jsx)("span",{className:"control__add",children:Object(R.jsx)(tt,{text:"add transaction",onClick:function(){return e(!0)}})})]}),Object(R.jsx)("table",{className:"transaction-table",children:Object(R.jsx)("thead",{className:"transaction-table--header",children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{className:"transaction-table--header-category",children:"category"}),Object(R.jsx)("td",{className:"transaction-table--header-account",children:"account"}),Object(R.jsx)("td",{className:"transaction-table--header-date",children:"date"}),Object(R.jsx)("td",{className:"transaction-table--header-debit",children:"debit"}),Object(R.jsx)("td",{className:"transaction-table--header-credit",children:"credit"}),Object(R.jsx)("td",{className:"transaction-table--header-description",children:"description"}),Object(R.jsx)("td",{className:"transaction-table--header-tags",children:"tags"})]})})}),i.transactions.sort((function(t,e){return e.date.valueOf()-t.date.valueOf()})).map((function(t){return function(t){return Object(R.jsx)(P,{children:Object(R.jsx)("table",{className:"transaction-table",children:Object(R.jsx)("tbody",{className:"transaction-table__body",children:t.entries.map((function(t){var e,n;return Object(R.jsxs)("tr",{className:"transaction-table__body__row",children:[Object(R.jsx)("td",{className:"transaction-table__body__row--category",children:t.category?Object(R.jsx)("span",{className:"bubble",children:t.category}):null}),Object(R.jsx)("td",{className:"transaction-table__body__row--account",children:null===(e=i.accounts.find((function(e){return e.id===t.accountId})))||void 0===e?void 0:e.name}),Object(R.jsx)("td",{className:"transaction-table__body__row--date",children:(n=t.date,"".concat(n.getDate()," ").concat(k[n.getMonth()]," ").concat(n.getFullYear()))}),Object(R.jsx)("td",{className:"transaction-table__body__row--debit",children:t.style===c.DEBIT?r(t):""}),Object(R.jsx)("td",{className:"transaction-table__body__row--credit",children:t.style===c.CREDIT?"(".concat(r(t),")"):""}),Object(R.jsx)("td",{className:"transaction-table__body__row--description",children:t.description}),Object(R.jsx)("td",{className:"transaction-table__body__row--tags",children:t.tags})]},t.id)}))},t.id)})})}(t)}))]})}),dt=function(){function t(e){if(Object(G.a)(this,t),this.id=void 0,this.accountId=void 0,this.style=void 0,this.amount=void 0,this.date=void 0,this.category=void 0,this.tags=void 0,this.description=void 0,!e.id||!e.accountId||void 0===e.style||void 0===e.amount||void 0===e.date)throw new Error("");this.id=e.id,this.accountId=e.accountId,this.style=e.style,this.amount=e.amount,this.date=e.date,this.category=e.category,this.tags=e.tags,this.description=e.description}return Object(H.a)(t,[{key:"getValue",value:function(t,e){if(t<new Date(this.date))return 0;var n=this.style===c.CREDIT?-1:1;if("number"===typeof this.amount)return n*this.amount;var a=e&&void 0!==e[this.amount.symbol]?e[this.amount.symbol]:this.amount.unitPrice;return n*this.amount.quantity*a}},{key:"getAccount",value:function(t){var e=this;return t.filter((function(t){return t.id===e.id}))[0]}}]),t}(),jt=function(){function t(e){Object(G.a)(this,t),this.id=void 0,this.entryIds=void 0,this.id=e.id,this.entryIds=e.entryIds}return Object(H.a)(t,[{key:"getEntries",value:function(t){var e=this;return t.filter((function(t){return e.entryIds.includes(t.id)}))}}]),t}(),bt=function(t){var e=t.visible,n=t.setVisible,c=t.setAmountCallback,a=Object(s.useState)(""),i=Object(u.a)(a,2),r=i[0],o=i[1],l=Object(s.useState)(0),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(s.useState)(0),O=Object(u.a)(h,2),x=O[0],m=O[1];return Object(R.jsx)(at.a,{className:"modal",open:e,children:Object(R.jsx)("div",{className:"modal__content",children:Object(R.jsxs)(P,{children:[Object(R.jsxs)("span",{className:"modal__content--header",children:[Object(R.jsx)("h1",{children:"Stock Amount"}),Object(R.jsx)(it.a,{onClick:function(){return n(!1)},children:Object(R.jsx)(ot.a,{})})]}),Object(R.jsx)("span",{className:"modal__content--input",children:Object(R.jsxs)("table",{children:[Object(R.jsxs)("thead",{children:[Object(R.jsx)("td",{children:Object(R.jsx)("h2",{children:"Symbol *"})}),Object(R.jsx)("td",{children:Object(R.jsx)("h2",{children:"Quantity *"})}),Object(R.jsx)("td",{children:Object(R.jsx)("h2",{children:"Unit Price*"})}),Object(R.jsx)("td",{})]}),Object(R.jsx)("tbody",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:Object(R.jsx)("input",{type:"text",value:r,onChange:function(t){return o(t.target.value)}})}),Object(R.jsx)("td",{children:Object(R.jsx)("input",{type:"number",value:j,onChange:function(t){return b(Number.parseFloat(t.target.value))}})}),Object(R.jsx)("td",{children:Object(R.jsx)("input",{type:"number",value:x,onChange:function(t){return m(Number.parseFloat(t.target.value))}})})]})})]})}),Object(R.jsx)(it.a,{className:"modal__addAccount__content--submit",onClick:function(){return c({symbol:r,quantity:j,unitPrice:x})},children:Object(R.jsx)("h2",{children:"Set Amount"})})]})})})},ht=function(t){var e,n=t.visible,a=t.setVisible,i=t.existingTransaction,r=Z(),o=r.resourceManager,l=r.state,d=Object(s.useState)(""),j=Object(u.a)(d,2),b=j[0],h=j[1],O=Object(s.useState)([]),x=Object(u.a)(O,2),m=x[0],p=x[1],v=Object(s.useState)(0),f=Object(u.a)(v,2),_=f[0],g=f[1];Object(s.useEffect)((function(){o.accounts()}),[]),Object(s.useEffect)((function(){h(i?i.id:"creation")}),[i]);var N={accountId:null===(e=l.accounts[0])||void 0===e?void 0:e.id,style:c.DEBIT,amount:0,date:(new Date).valueOf(),category:"",tags:[],description:""},y=function(){p([])},S=function(t){var e=m.find((function(e){return e.id===t.id}));if(e){var n=Object(F.a)(Object(F.a)({},e),t);p(m.map((function(t,c){return(null===e||void 0===e?void 0:e.id)===t.id?n:t})))}else t.id=function(){var t=_+1;return g(t),t}(),p(m.concat(Object(F.a)({},t)))},C=function(t){p(m.filter((function(e){return e.id!==t})))};return Object(R.jsx)(at.a,{className:"modal",open:n,children:Object(R.jsx)("div",{className:"modal__content",children:Object(R.jsxs)(P,{children:[Object(R.jsxs)("span",{className:"modal__content--header",children:[Object(R.jsx)("h1",{children:"New Transaction"}),Object(R.jsx)(it.a,{onClick:function(){return a(!1)},children:Object(R.jsx)(ot.a,{})})]}),Object(R.jsx)("span",{className:"modal__content--input",children:Object(R.jsxs)("table",{children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{children:Object(R.jsx)("h2",{children:"Account *"})}),Object(R.jsx)("th",{children:Object(R.jsx)("h2",{children:"Style *"})}),Object(R.jsx)("th",{children:Object(R.jsx)("h2",{children:"Amount *"})}),Object(R.jsx)("th",{children:Object(R.jsx)("h2",{children:"Date *"})}),Object(R.jsx)("th",{children:Object(R.jsx)("h2",{children:"Category"})}),Object(R.jsx)("th",{children:Object(R.jsx)("h2",{children:"Tags"})}),Object(R.jsx)("th",{children:Object(R.jsx)("h2",{children:"Description"})}),Object(R.jsx)("th",{})]})}),Object(R.jsx)("tbody",{children:m.concat(N).map((function(t,e){return Object(R.jsx)(Ot,{entry:t,updateEntryCallback:S,accounts:l.accounts,removeEntry:C},e)}))})]})}),Object(R.jsx)(it.a,{className:"modal__addAccount__content--submit",onClick:function(t){t.preventDefault();var e=new jt({id:b,entryIds:m.map((function(t){return(null===t||void 0===t?void 0:t.id)||"-1"}))}),n=m.map((function(t){return Object(F.a)(Object(F.a)({},N),t)})).map((function(t){return new dt(t)})),i={transaction:{id:e.id,date:n.map((function(t){return t.date})).reduce((function(t,e){return t>e?e:t})).toString()},entries:n.map((function(t){var e;return e="number"===typeof t.amount?t.amount.toString():t.amount,{accountId:t.accountId,style:c[t.style],amount:e,date:t.date.toString(),description:t.description,category:t.category,tags:t.tags}}))};st.post("/transaction",i).then((function(t){y(),a(!1)})).catch((function(t){console.error(t)}))},children:Object(R.jsx)("h2",{children:"Create"})})]})})})},Ot=function(t){var e,n,a,i,r,o,l=t.entry,d=t.updateEntryCallback,j=t.accounts,b=t.removeEntry,h=Object(s.useState)(!1),O=Object(u.a)(h,2),x=O[0],m=O[1],p=Object(s.useState)(!1),v=Object(u.a)(p,2),f=v[0],_=v[1];return Object(R.jsxs)("tr",{children:[Object(R.jsx)("td",{children:Object(R.jsx)("select",{value:l.accountId,onChange:function(t){return d({id:l.id,accountId:t.target.value})},children:j.map((function(t){return Object(R.jsxs)("option",{value:t.id,children:[t.parent_account_id,"-",t.name]},t.id)}))})}),Object(R.jsx)("td",{children:Object(R.jsx)("select",{value:l.style,onChange:function(t){return d({id:l.id,style:Number.parseInt(t.target.value)})},children:A.map((function(t){return Object(R.jsx)("option",{value:t,children:D(c[t])},t)}))})}),Object(R.jsxs)("td",{children:[Object(R.jsx)("input",{type:"checkbox",checked:x,onChange:function(){return function(){if(x||_(!0),l.amount){var t=x?0:{symbol:"",quantity:0,unitPrice:0};d({id:l.id,amount:t})}m(!x)}()}}),x?Object(R.jsxs)("p",{children:[(null===(e=l.amount)||void 0===e||null===(n=e.quantity)||void 0===n?void 0:n.toString())||"?","x",(null===(a=l.amount)||void 0===a?void 0:a.symbol)||"?"," @ $",(null===(i=l.amount)||void 0===i?void 0:i.unitPrice)||"?"]}):Object(R.jsx)("input",{type:"number",value:null===(r=l.amount)||void 0===r?void 0:r.toString(),onChange:function(t){return d({id:l.id,amount:Number.parseFloat(t.target.value)})}}),Object(R.jsx)(bt,{visible:f,setVisible:_,setAmountCallback:function(t){_(!1),d({id:l.id,amount:t})}})]}),Object(R.jsx)("td",{children:Object(R.jsx)("input",{type:"date",value:w(l.date),onChange:function(t){return d({id:l.id,date:new Date(Date.parse(t.target.value).valueOf()+144e3).valueOf()})}})}),Object(R.jsx)("td",{children:Object(R.jsx)("input",{type:"text",value:l.category,onChange:function(t){return d({id:l.id,category:t.target.value})}})}),Object(R.jsx)("td",{children:Object(R.jsx)("input",{type:"text",value:null===(o=l.tags)||void 0===o?void 0:o.join(", "),onChange:function(t){return d({id:l.id,tags:t.target.value.split(", ")})}})}),Object(R.jsx)("td",{children:Object(R.jsx)("input",{type:"text",value:l.description,onChange:function(t){return d({id:l.id,description:t.target.value})}})}),Object(R.jsx)("td",{children:l.id?Object(R.jsx)(it.a,{onClick:function(){return b(l.id)},children:Object(R.jsx)(ot.a,{})}):null})]})},xt=function(){var t=Z().state,e=Object(s.useState)(!1),n=Object(u.a)(e,2),c=n[0],a=n[1],i=Object(s.useState)(!1),r=Object(u.a)(i,2),o=r[0],l=r[1];return Object(R.jsxs)("div",{className:"app",children:[Object(R.jsxs)("div",{className:"app__header",children:[Object(R.jsx)("h1",{className:"app__header__text",children:"Sage"}),Object(R.jsxs)("p",{children:["Last Updated: ",t.lastUpdated.toLocaleString()]}),Object(R.jsxs)(it.a,{onClick:function(){return a(!0)},children:["A",Object(R.jsx)(ct.a,{})]})]}),Object(R.jsxs)("div",{className:"app__content",children:[Object(R.jsx)(et,{}),Object(R.jsx)("div",{className:"app__content__main",children:Object(R.jsx)(ut,{setAddTransactionModalVisibility:l})})]}),Object(R.jsx)(lt,{visible:c,setVisible:a}),Object(R.jsx)(ht,{visible:o,setVisible:l})]})},mt=function(){var t=Z(),e=t.resourceManager,n=t.dispatch,c=Object(s.useState)(""),a=Object(u.a)(c,2),i=a[0],r=a[1];return Object(s.useEffect)((function(){e.authenticated&&n(J(U.HOME))}),[n,e]),Object(R.jsxs)("div",{className:"app",children:[Object(R.jsx)("div",{className:"app__header",children:Object(R.jsx)("h1",{className:"app__header__text",children:"Sage"})}),Object(R.jsx)("div",{className:"app__content",children:Object(R.jsxs)("div",{className:"app__content__login",children:[Object(R.jsx)("input",{type:"password",value:i,onChange:function(t){return r(t.target.value)}}),Object(R.jsx)(it.a,{onClick:function(){e.login(i),r("")},children:"Login"})]})})]})},pt=function(){var t=Z().state;return Object(R.jsxs)(R.Fragment,{children:[t.navigationState===U.LOGIN?Object(R.jsx)(mt,{}):null,t.navigationState===U.HOME?Object(R.jsx)(xt,{}):null]})},vt=(n(99),n(100),function(){return Object(R.jsx)(X,{children:Object(R.jsx)(pt,{})})}),ft=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,125)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),i(t),s(t)}))};l.a.render(Object(R.jsx)(r.a.StrictMode,{children:Object(R.jsx)(vt,{})}),document.getElementById("root")),ft()},72:function(t,e,n){},73:function(t,e,n){},96:function(t,e,n){},98:function(t,e,n){},99:function(t,e,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.5683b533.chunk.js.map