(this.webpackJsonpomni=this.webpackJsonpomni||[]).push([[0],{100:function(t,e,n){"use strict";n.r(e);var c,a,i,s=n(1),r=n.n(s),o=n(9),l=n.n(o),u=(n(70),n(4)),d=(n(71),n(72),n(60)),j=n.n(d),b=n(58),h=n.n(b),O=n(57),m=n.n(O),x=n(61),p=n.n(x),v=n(62),f=n.n(v),g=n(56),_=n.n(g),y=n(55),N=n.n(y),I=n(59),S=n.n(I);!function(t){t[t.DEBIT=0]="DEBIT",t[t.CREDIT=1]="CREDIT"}(c||(c={})),function(t){t[t.CASH=0]="CASH",t[t.INVESTMENT=1]="INVESTMENT",t[t.LIABILITY=2]="LIABILITY",t[t.POINT=3]="POINT"}(a||(a={})),function(t){t[t.DAILY=0]="DAILY",t[t.SAVINGS=1]="SAVINGS",t[t.RETIREMENT=2]="RETIREMENT",t[t.SPECIAL=3]="SPECIAL"}(i||(i={}));var C=[c.CREDIT,c.DEBIT],A=[a.CASH,a.INVESTMENT,a.LIABILITY,a.POINT],E=[i.DAILY,i.SAVINGS,i.RETIREMENT,i.SPECIAL],T=n(120),w=(n(73),function(t){var e=t.toLowerCase();return e[0].toUpperCase()+e.slice(1)}),D=function(t,e){return"\n    ".concat(t<0?"-":"").concat(e?"":"$").concat(e?t.toLocaleString("en-US",{maximumFractionDigits:0}):Math.abs(t).toLocaleString("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}),"\n    ")},k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],L=function(t){var e=new Date;return t&&(e=new Date(t)),"".concat(e.getFullYear(),"-").concat(e.getMonth()<10?"0"+e.getMonth():e.getMonth(),"-").concat(e.getDate()<10?"0"+e.getDate():e.getDate())},V=n(118),P=n(0),M=function(t){var e=t.children;return Object(P.jsx)(V.a,{className:"card",children:Object(P.jsx)("div",{className:"card--holder",children:e})})},F=n(54),R=n.n(F).a.create({baseURL:"http://localhost:5000",timeout:1e4}),B=function(){var t=Object(s.useState)(0),e=Object(u.a)(t,2),n=e[0],c=e[1],r=Object(s.useState)({}),o=Object(u.a)(r,2),l=o[0],d=o[1],b=Object(s.useState)({}),O=Object(u.a)(b,2),x=O[0],v=O[1];Object(s.useEffect)((function(){R.get("/sidebar").then((function(t){c(t.data.net_worth),d(t.data.category_sums),v(t.data.type_data)})).catch((function(t){console.log(t)}))}),[]);var g=function(t){return t===i.DAILY?Object(P.jsx)(N.a,{className:"daily"}):t===i.SPECIAL?Object(P.jsx)(T.a,{className:"special"}):t===i.SAVINGS?Object(P.jsx)(_.a,{className:"savings"}):t===i.RETIREMENT?Object(P.jsx)(m.a,{className:"retirement"}):void 0},y=Object(P.jsx)(h.a,{className:"point"}),I=Object(P.jsx)(S.a,{className:"childAccount"}),C=function(t){return t===a.CASH?Object(P.jsx)(j.a,{className:"cash"}):t===a.LIABILITY?Object(P.jsx)(p.a,{className:"liability"}):t===a.INVESTMENT?Object(P.jsx)(f.a,{className:"investment"}):t===a.POINT?Object(P.jsx)(T.a,{className:"point"}):void 0},A=function(t,e,n,c,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return Object(P.jsxs)("div",{className:"sidebar__accounts--account",children:[Object(P.jsxs)("p",{children:[i?I:null,e]}),Object(P.jsxs)("p",{children:[D(n,c),a?Object(P.jsx)("span",{className:"subtext",children:"rem."}):null,c?y:null]})]},t)},E=function(t,e){return t.is_remaining&&!e.is_remaining?1:!t.is_remaining&&e.is_remaining?-1:Math.abs(e.value)-Math.abs(t.value)};return Object(P.jsxs)("div",{className:"sidebar",children:[Object(P.jsx)(M,{children:Object(P.jsxs)("span",{className:"sidebar__total",children:[Object(P.jsxs)("h1",{children:["$",Math.floor(n).toLocaleString("en-US")]}),Object(P.jsxs)("h2",{children:[".",Math.round(100*(n-Math.floor(n))).toLocaleString("en-US")]})]})}),Object(P.jsx)(M,{children:Object.entries(l).map((function(t){var e=Number.parseFloat(t[1]),n=i[t[0]];return Object(P.jsxs)("div",{className:"sidebar__category",children:[Object(P.jsxs)("h2",{children:[g(n),w(i[n])]}),Object(P.jsx)("h2",{children:e<0?Object(P.jsxs)("span",{className:"negative",children:[D(e,n===i.SPECIAL),n===i.SPECIAL?y:null]}):Object(P.jsxs)(P.Fragment,{children:[D(e,n===i.SPECIAL),n===i.SPECIAL?y:null]})})]},n)}))}),Object.entries(x).map((function(t){var e=t[1],n=e.accounts,c=a[t[0]],i=e.sum;return Object(P.jsxs)(M,{children:[Object(P.jsxs)("div",{className:"sidebar__type",children:[Object(P.jsxs)("h2",{children:[C(c),w(a[c])]}),Object(P.jsx)("h2",{children:i<0?Object(P.jsx)("span",{className:"negative",children:D(i,!1)}):D(i,!1)})]}),Object(P.jsx)("div",{className:"sidebar__accounts",children:n.filter((function(t){return null===t.parent_account_id||""===t.parent_account_id})).sort(E).map((function(t){return Object(P.jsxs)(P.Fragment,{children:[A(t.id,t.name,t.value,t.is_points,t.is_remaining,!1),(e=t.id,c=n,c.filter((function(t){return t.parent_account_id===e}))).sort(E).map((function(t){return A(t.id,t.name,t.value,t.is_points,t.is_remaining,!0)}))]});var e,c}))})]},c)}))]})},Y=n(24),q=n(25),H=function(){function t(e){Object(Y.a)(this,t),this.id=void 0,this.name=void 0,this.type=void 0,this.category=void 0,this.parentAccountId=void 0,this.maxValue=void 0,this.id=e.id,this.name=e.name,this.type=e.type,this.category=e.category,this.parentAccountId=e.parentAccountId,this.maxValue=e.maxValue}return Object(q.a)(t,[{key:"getEntries",value:function(t){var e=this;return t.filter((function(t){return t.accountId===e.id}))}},{key:"getValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,c=arguments.length>2?arguments[2]:void 0,a=t.filter((function(t){return t.accountId===e.id})).reduce((function(t,e){return t+e.getValue(n,c)}),0);return this.maxValue?this.maxValue-a:a}},{key:"getChildAccounts",value:function(t){var e=this;return t.filter((function(t){return t.parentAccountId&&t.parentAccountId===e.id}))}}]),t}(),U=function(){function t(e){if(Object(Y.a)(this,t),this.id=void 0,this.accountId=void 0,this.style=void 0,this.amount=void 0,this.date=void 0,this.category=void 0,this.tags=void 0,this.description=void 0,!e.id||!e.accountId||void 0===e.style||void 0===e.amount||void 0===e.date)throw new Error("");this.id=e.id,this.accountId=e.accountId,this.style=e.style,this.amount=e.amount,this.date=e.date,this.category=e.category,this.tags=e.tags,this.description=e.description}return Object(q.a)(t,[{key:"getValue",value:function(t,e){if(t<new Date(this.date))return 0;var n=this.style===c.CREDIT?-1:1;if("number"===typeof this.amount)return n*this.amount;var a=e&&void 0!==e[this.amount.symbol]?e[this.amount.symbol]:this.amount.unitPrice;return n*this.amount.quantity*a}},{key:"getAccount",value:function(t){var e=this;return t.filter((function(t){return t.id===e.id}))[0]}}]),t}(),G=function(){function t(e){Object(Y.a)(this,t),this.id=void 0,this.entryIds=void 0,this.id=e.id,this.entryIds=e.entryIds}return Object(q.a)(t,[{key:"getEntries",value:function(t){var e=this;return t.filter((function(t){return e.entryIds.includes(t.id)}))}}]),t}(),J=function(t){var e=Number.parseFloat(t);if(isNaN(e)){t=t.replaceAll("'",'"');var n=JSON.parse(t);return{quantity:Number.parseFloat(n.quantity),unitPrice:Number.parseFloat(n.unitPrice),symbol:n.symbol}}return e},$=n(40),z=n.n($),Q=n(121),K=n(122),W=n(22),X=n.n(W),Z=function(t){var e=t.visible,n=t.setVisible,c=t.accounts,r=t.newAccountCallback,o=Object(s.useState)(""),l=Object(u.a)(o,2),d=l[0],j=l[1],b=Object(s.useState)(a.CASH),h=Object(u.a)(b,2),O=h[0],m=h[1],x=Object(s.useState)(i.DAILY),p=Object(u.a)(x,2),v=p[0],f=p[1],g=Object(s.useState)(void 0),_=Object(u.a)(g,2),y=_[0],N=_[1],I=Object(s.useState)(void 0),S=Object(u.a)(I,2),C=S[0],T=S[1],D=function(){j(""),m(a.CASH),f(i.DAILY),N(void 0),T(void 0)};return Object(P.jsx)(Q.a,{className:"modal",open:e,children:Object(P.jsx)("div",{className:"modal__content",children:Object(P.jsxs)(M,{children:[Object(P.jsxs)("span",{className:"modal__content--header",children:[Object(P.jsx)("h1",{children:"New Account"}),Object(P.jsx)(K.a,{onClick:function(){return n(!1)},children:Object(P.jsx)(X.a,{})})]}),Object(P.jsxs)("span",{className:"modal__content--input",children:[Object(P.jsxs)("span",{className:"modal__content--input-required",children:[Object(P.jsx)("h2",{children:"Name"}),Object(P.jsx)("p",{children:"*"})]}),Object(P.jsx)("input",{type:"text",value:d,onChange:function(t){return j(t.target.value)}})]}),Object(P.jsxs)("span",{className:"modal__content--input",children:[Object(P.jsxs)("span",{className:"modal__content--input-required",children:[Object(P.jsx)("h2",{children:"Type"}),Object(P.jsx)("p",{children:"*"})]}),Object(P.jsx)("select",{value:O,onChange:function(t){return m(Number.parseInt(t.target.value))},children:A.map((function(t){return Object(P.jsx)("option",{value:t,children:w(a[t])},t)}))})]}),Object(P.jsxs)("span",{className:"modal__content--input",children:[Object(P.jsxs)("span",{className:"modal__content--input-required",children:[Object(P.jsx)("h2",{children:"Category"}),Object(P.jsx)("p",{children:"*"})]}),Object(P.jsx)("select",{value:v,onChange:function(t){return f(Number.parseInt(t.target.value))},children:E.map((function(t){return Object(P.jsx)("option",{value:t,children:w(i[t])},t)}))})]}),Object(P.jsxs)("span",{className:"modal__content--input",children:[Object(P.jsx)("h2",{children:"Max Value"}),Object(P.jsx)("input",{value:y,onChange:function(t){return N(t.target.value)},type:"text"})]}),Object(P.jsxs)("span",{className:"modal__content--input",children:[Object(P.jsx)("h2",{children:"Parent Account"}),Object(P.jsxs)("select",{value:C,onChange:function(t){return T(t.target.value)},children:[Object(P.jsx)("option",{value:"",children:"None"}),c.filter((function(t){return!t.parentAccountId})).map((function(t){return Object(P.jsx)("option",{value:t.id,children:t.name},t.id)}))]})]}),Object(P.jsx)(K.a,{className:"modal__content--submit",onClick:function(t){t.preventDefault();var e=(c.map((function(t){return Number.parseInt(t.id)})).reduce((function(t,e){return e>t?e:t}),0)+1).toString(),s=new H({id:e,name:d,type:O,category:v,maxValue:y?Number.parseFloat(y):void 0,parentAccountId:C}),o={account:{id:e,name:d,type:a[O],category:i[v],maxValue:y,parentAccountId:C}};R.post("/account",o).then((function(t){D(),n(!1),r(s)})).catch((function(t){console.error(t)}))},children:Object(P.jsx)("h2",{children:"Create"})})]})})})},tt=(n(98),n(99),function(t){var e=t.text,n=t.onClick,c=t.className;return Object(P.jsx)("button",{onClick:n,className:c,children:e})}),et=function(t){var e=t.accounts,n=t.transactions,i=t.entries,s=(t.updatedTransactionCallback,t.updatedEntryCallback,function(t){var n,c;return"number"===typeof t.amount?D(Math.abs(t.getValue(new Date(t.date))),(null===(n=t.getAccount(e))||void 0===n?void 0:n.type)===a.POINT):(c=t.amount,"".concat(c.quantity,"x").concat(c.symbol," @ $").concat(c.unitPrice))});return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"control",children:[Object(P.jsx)("span",{className:"control__filter",children:"filter"}),Object(P.jsx)("span",{className:"control__expand",children:"expand"}),Object(P.jsx)("span",{className:"control__add",children:Object(P.jsx)(tt,{text:"add transaction"})})]}),Object(P.jsx)("table",{className:"transaction-table",children:Object(P.jsx)("thead",{className:"transaction-table--header",children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{className:"transaction-table--header-category",children:"category"}),Object(P.jsx)("td",{className:"transaction-table--header-account",children:"account"}),Object(P.jsx)("td",{className:"transaction-table--header-date",children:"date"}),Object(P.jsx)("td",{className:"transaction-table--header-debit",children:"debit"}),Object(P.jsx)("td",{className:"transaction-table--header-credit",children:"credit"}),Object(P.jsx)("td",{className:"transaction-table--header-description",children:"description"}),Object(P.jsx)("td",{className:"transaction-table--header-tags",children:"tags"})]})})}),n.map((function(t){return function(t){return Object(P.jsx)(M,{children:Object(P.jsx)("table",{className:"transaction-table",children:Object(P.jsx)("tbody",{className:"transaction-table__body",children:t.getEntries(i).map((function(t){var n,a;return Object(P.jsxs)("tr",{className:"transaction-table__body__row",children:[Object(P.jsx)("td",{className:"transaction-table__body__row--category",children:t.category?Object(P.jsx)("span",{className:"bubble",children:t.category}):null}),Object(P.jsx)("td",{className:"transaction-table__body__row--account",children:null===(n=e.find((function(e){return e.id===t.accountId})))||void 0===n?void 0:n.name}),Object(P.jsx)("td",{className:"transaction-table__body__row--date",children:(a=new Date(t.date),"".concat(a.getDate()," ").concat(k[a.getMonth()]," ").concat(a.getFullYear()))}),Object(P.jsx)("td",{className:"transaction-table__body__row--debit",children:t.style===c.DEBIT?s(t):""}),Object(P.jsx)("td",{className:"transaction-table__body__row--credit",children:t.style===c.CREDIT?"(".concat(s(t),")"):""}),Object(P.jsx)("td",{className:"transaction-table__body__row--description",children:t.description}),Object(P.jsx)("td",{className:"transaction-table__body__row--tags",children:t.tags})]},t.id)}))},t.id)})})}(t)}))]})},nt=n(27),ct=function(t){var e=t.visible,n=t.setVisible,c=t.setAmountCallback,a=Object(s.useState)(""),i=Object(u.a)(a,2),r=i[0],o=i[1],l=Object(s.useState)(0),d=Object(u.a)(l,2),j=d[0],b=d[1],h=Object(s.useState)(0),O=Object(u.a)(h,2),m=O[0],x=O[1];return Object(P.jsx)(Q.a,{className:"modal",open:e,children:Object(P.jsx)("div",{className:"modal__content",children:Object(P.jsxs)(M,{children:[Object(P.jsxs)("span",{className:"modal__content--header",children:[Object(P.jsx)("h1",{children:"Stock Amount"}),Object(P.jsx)(K.a,{onClick:function(){return n(!1)},children:Object(P.jsx)(X.a,{})})]}),Object(P.jsx)("span",{className:"modal__content--input",children:Object(P.jsxs)("table",{children:[Object(P.jsxs)("thead",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("h2",{children:"Symbol *"})}),Object(P.jsx)("td",{children:Object(P.jsx)("h2",{children:"Quantity *"})}),Object(P.jsx)("td",{children:Object(P.jsx)("h2",{children:"Unit Price*"})}),Object(P.jsx)("td",{})]}),Object(P.jsx)("tbody",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("input",{type:"text",value:r,onChange:function(t){return o(t.target.value)}})}),Object(P.jsx)("td",{children:Object(P.jsx)("input",{type:"number",value:j,onChange:function(t){return b(Number.parseFloat(t.target.value))}})}),Object(P.jsx)("td",{children:Object(P.jsx)("input",{type:"number",value:m,onChange:function(t){return x(Number.parseFloat(t.target.value))}})})]})})]})}),Object(P.jsx)(K.a,{className:"modal__addAccount__content--submit",onClick:function(){return c({symbol:r,quantity:j,unitPrice:m})},children:Object(P.jsx)("h2",{children:"Set Amount"})})]})})})},at=function(t){var e,n=t.visible,a=t.setVisible,i=t.accounts,r=t.entries,o=t.transactions,l=t.newTransactionCallback,d=t.newEntryCallback,j=t.existingTransaction,b=Object(s.useState)(""),h=Object(u.a)(b,2),O=h[0],m=h[1],x=Object(s.useState)([]),p=Object(u.a)(x,2),v=p[0],f=p[1],g=Object(s.useCallback)((function(){return(o.map((function(t){return Number.parseInt(t.id)})).reduce((function(t,e){return e>t?e:t}),0)+1).toString()}),[o]);Object(s.useEffect)((function(){j?(m(j.id),f(j.getEntries(r))):m(g())}),[j,r,g]);var _={accountId:null===(e=i[0])||void 0===e?void 0:e.id,style:c.DEBIT,amount:0,date:(new Date).valueOf(),category:"",tags:[],description:""},y=function(){f([])},N=function(t){var e=v.find((function(e){return e.id===t.id}));if(e){var n=Object(nt.a)(Object(nt.a)({},e),t);f(v.map((function(t,c){return(null===e||void 0===e?void 0:e.id)===t.id?n:t})))}else t.id=(r.map((function(t){return Number.parseInt(t.id)})).concat(v.map((function(t){return Number.parseInt((null===t||void 0===t?void 0:t.id)?t.id:"-1")}))).reduce((function(t,e){return e>t?e:t}),0)+1).toString(),f(v.concat(Object(nt.a)({},t)))},I=function(t){f(v.filter((function(e){return e.id!==t})))};return Object(P.jsx)(Q.a,{className:"modal",open:n,children:Object(P.jsx)("div",{className:"modal__content",children:Object(P.jsxs)(M,{children:[Object(P.jsxs)("span",{className:"modal__content--header",children:[Object(P.jsx)("h1",{children:"New Transaction"}),Object(P.jsx)(K.a,{onClick:function(){return a(!1)},children:Object(P.jsx)(X.a,{})})]}),Object(P.jsx)("span",{className:"modal__content--input",children:Object(P.jsxs)("table",{children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:Object(P.jsx)("h2",{children:"Account *"})}),Object(P.jsx)("th",{children:Object(P.jsx)("h2",{children:"Style *"})}),Object(P.jsx)("th",{children:Object(P.jsx)("h2",{children:"Amount *"})}),Object(P.jsx)("th",{children:Object(P.jsx)("h2",{children:"Date *"})}),Object(P.jsx)("th",{children:Object(P.jsx)("h2",{children:"Category"})}),Object(P.jsx)("th",{children:Object(P.jsx)("h2",{children:"Tags"})}),Object(P.jsx)("th",{children:Object(P.jsx)("h2",{children:"Description"})}),Object(P.jsx)("th",{})]})}),Object(P.jsx)("tbody",{children:v.concat(_).map((function(t,e){return Object(P.jsx)(it,{entry:t,updateEntryCallback:N,accounts:i,removeEntry:I},e)}))})]})}),Object(P.jsx)(K.a,{className:"modal__addAccount__content--submit",onClick:function(t){t.preventDefault();var e=new G({id:O,entryIds:v.map((function(t){return(null===t||void 0===t?void 0:t.id)||"-1"}))}),n=v.map((function(t){return Object(nt.a)(Object(nt.a)({},_),t)})).map((function(t){return new U(t)})),i={transaction:{id:e.id,entryIds:e.entryIds},entries:n.map((function(t){var e;return e="number"===typeof t.amount?t.amount.toString():t.amount,{id:t.id,accountId:t.accountId,style:c[t.style],amount:e,date:t.date.toString(),description:t.description,category:t.category,tags:t.tags}}))};R.post("/transaction",i).then((function(t){y(),a(!1),d(n),l(e)})).catch((function(t){console.error(t)}))},children:Object(P.jsx)("h2",{children:"Create"})})]})})})},it=function(t){var e,n,a,i,r,o,l=t.entry,d=t.updateEntryCallback,j=t.accounts,b=t.removeEntry,h=Object(s.useState)(!1),O=Object(u.a)(h,2),m=O[0],x=O[1],p=Object(s.useState)(!1),v=Object(u.a)(p,2),f=v[0],g=v[1];return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("select",{value:l.accountId,onChange:function(t){return d({id:l.id,accountId:t.target.value})},children:j.map((function(t){return Object(P.jsxs)("option",{value:t.id,children:[t.parentAccountId,"-",t.name]},t.id)}))})}),Object(P.jsx)("td",{children:Object(P.jsx)("select",{value:l.style,onChange:function(t){return d({id:l.id,style:Number.parseInt(t.target.value)})},children:C.map((function(t){return Object(P.jsx)("option",{value:t,children:w(c[t])},t)}))})}),Object(P.jsxs)("td",{children:[Object(P.jsx)("input",{type:"checkbox",checked:m,onChange:function(){return function(){if(m||g(!0),l.amount){var t=m?0:{symbol:"",quantity:0,unitPrice:0};d({id:l.id,amount:t})}x(!m)}()}}),m?Object(P.jsxs)("p",{children:[(null===(e=l.amount)||void 0===e||null===(n=e.quantity)||void 0===n?void 0:n.toString())||"?","x",(null===(a=l.amount)||void 0===a?void 0:a.symbol)||"?"," @ $",(null===(i=l.amount)||void 0===i?void 0:i.unitPrice)||"?"]}):Object(P.jsx)("input",{type:"number",value:null===(r=l.amount)||void 0===r?void 0:r.toString(),onChange:function(t){return d({id:l.id,amount:Number.parseFloat(t.target.value)})}}),Object(P.jsx)(ct,{visible:f,setVisible:g,setAmountCallback:function(t){g(!1),d({id:l.id,amount:t})}})]}),Object(P.jsx)("td",{children:Object(P.jsx)("input",{type:"date",value:L(l.date),onChange:function(t){return d({id:l.id,date:new Date(Date.parse(t.target.value).valueOf()+144e5).valueOf()})}})}),Object(P.jsx)("td",{children:Object(P.jsx)("input",{type:"text",value:l.category,onChange:function(t){return d({id:l.id,category:t.target.value})}})}),Object(P.jsx)("td",{children:Object(P.jsx)("input",{type:"text",value:null===(o=l.tags)||void 0===o?void 0:o.join(", "),onChange:function(t){return d({id:l.id,tags:t.target.value.split(", ")})}})}),Object(P.jsx)("td",{children:Object(P.jsx)("input",{type:"text",value:l.description,onChange:function(t){return d({id:l.id,description:t.target.value})}})}),Object(P.jsx)("td",{children:l.id?Object(P.jsx)(K.a,{onClick:function(){return b(l.id)},children:Object(P.jsx)(X.a,{})}):null})]})},st=function(){var t=Object(s.useState)([]),e=Object(u.a)(t,2),n=e[0],r=e[1],o=Object(s.useState)([]),l=Object(u.a)(o,2),d=l[0],j=l[1],b=Object(s.useState)([]),h=Object(u.a)(b,2),O=h[0],m=h[1],x=Object(s.useState)(!1),p=Object(u.a)(x,2),v=p[0],f=p[1],g=Object(s.useState)(!1),_=Object(u.a)(g,2),y=_[0],N=_[1];return Object(s.useEffect)((function(){R.get("/api/").then((function(t){var e=[],n=[],s=[];t.data.accounts.forEach((function(t){e.push(function(t){var e,n,c;return new H({id:t.AccountId.S,name:t.Name.S,type:a[t.Type.S],category:i[null===(e=t.Category)||void 0===e?void 0:e.S],parentAccountId:null===(n=t.ParentAccountId)||void 0===n?void 0:n.S,maxValue:Number.parseFloat(null===(c=t.MaxValue)||void 0===c?void 0:c.S)})}(t))})),t.data.transactions.forEach((function(t){var e;n.push(new G({id:(e=t).TransactionId.S,entryIds:e.EntryIds.SS}))})),t.data.entries.forEach((function(t){s.push(function(t){var e,n,a;return new U({id:t.EntryId.S,accountId:t.AccountId.S,style:c[t.Style.S],amount:J(t.Amount.S),date:Number.parseInt(t.Date.N),category:null===(e=t.Category)||void 0===e?void 0:e.S,tags:null===(n=t.Tags)||void 0===n?void 0:n.SS,description:null===(a=t.Description)||void 0===a?void 0:a.S})}(t))})),r(e),m(n),j(s)})).catch((function(t){console.log(t)}))}),[]),Object(P.jsxs)("div",{className:"app",children:[Object(P.jsxs)("div",{className:"app__header",children:[Object(P.jsx)("h1",{className:"app__header__text",children:"Sage"}),Object(P.jsxs)(K.a,{onClick:function(){return f(!0)},children:["A",Object(P.jsx)(z.a,{})]}),Object(P.jsxs)(K.a,{onClick:function(){return N(!0)},children:["T",Object(P.jsx)(z.a,{})]})]}),Object(P.jsxs)("div",{className:"app__content",children:[Object(P.jsx)(B,{}),Object(P.jsx)("div",{className:"app__content__main",children:Object(P.jsx)(et,{accounts:n,entries:d,transactions:O,updatedTransactionCallback:function(t){m(O.map((function(e){return e.id===t.id?t:e})))},updatedEntryCallback:function(t){j(d.map((function(e){var n=t.find((function(t){return t.id===e.id}));return n||e})))}})})]}),Object(P.jsx)(Z,{visible:v,setVisible:f,accounts:n,newAccountCallback:function(t){return r(n.concat(t))}}),Object(P.jsx)(at,{visible:y,setVisible:N,accounts:n,entries:d,transactions:O,newTransactionCallback:function(t){0!==O.length?m(O.concat(t)):m([t])},newEntryCallback:function(t){0!==d.length?j(d.concat(t)):j(t)}})]})},rt=function(t){var e=t.setPage,n=Object(s.useState)(""),c=Object(u.a)(n,2),a=c[0],i=c[1];return Object(P.jsxs)("div",{className:"app",children:[Object(P.jsx)("div",{className:"app__header",children:Object(P.jsx)("h1",{className:"app__header__text",children:"Sage"})}),Object(P.jsx)("div",{className:"app__content",children:Object(P.jsxs)("div",{className:"app__content__login",children:[Object(P.jsx)("input",{type:"password",value:a,onChange:function(t){return i(t.target.value)}}),Object(P.jsx)(K.a,{onClick:function(){window.crypto.subtle.digest("SHA-256",(new TextEncoder).encode(a)).then((function(t){var n=Array.from(new Uint8Array(t)).map((function(t){return t.toString(16).padStart(2,"0")})).join("");console.log(n),R.post("/login",{login_sha:n}).then((function(t){var n;n=t.data.access_token,R.interceptors.request.use((function(t){return t.headers.Authorization="Bearer ".concat(n),t})),e("HOME"),i("")}))}))},children:"Login"})]})})]})},ot=function(){var t=Object(s.useState)("LOGIN"),e=Object(u.a)(t,2),n=e[0],c=e[1];return Object(P.jsxs)(P.Fragment,{children:["LOGIN"===n?Object(P.jsx)(rt,{setPage:c}):null,"HOME"===n?Object(P.jsx)(st,{}):null]})},lt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,124)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),i(t),s(t)}))};l.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(ot,{})}),document.getElementById("root")),lt()},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},98:function(t,e,n){},99:function(t,e,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.33f36457.chunk.js.map